<template>
  <div class="category-selector">
    <div class="categories">
      <a-button
        v-for="category in categories"
        @click="selectCategory(category);filterType(category)"
        :class="{ selected: selectedCategory === category }"
        shape="round"
        style="font-weight: bolder;display: flex;">
        <template #icon v-if="category.name === '自然灾害'">
          <svg t="1722281547594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17225" width="22" height="22"><path d="M458.24 444.928l-85.504 242.688h121.344l-63.488 261.12 217.088-367.104h-109.568l65.024-136.704z" fill="#1E90FF" p-id="17226"></path><path d="M705.536 294.4h-32.256C660.48 262.656 641.536 230.4 609.28 204.8c-38.4-32.256-83.456-45.056-128-45.056-109.056 0-198.656 89.6-198.656 198.656-76.8 0-140.8 64-140.8 140.8S206.336 640 283.136 640h57.856l84.992-241.152H675.84l-65.024 136.704H732.16L664.576 640h34.304c96.256 0 173.056-76.8 179.2-173.056 0-95.744-76.8-172.544-172.544-172.544z" fill="#1E90FF" p-id="17227"></path></svg>
        </template>
        <template #icon v-if="category.name === '事故灾难'">
          <svg t="1722281513628" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16066" width="22" height="22"><path d="M140.545 746.884h0.006c-0.006-0.182-0.013-0.368-0.006 0zM308.931 608.77c-67.61 6.28-136.138 5.154-206.794-3.049 11.088-42.141 20.469-81.002 32.117-119.142 2.216-7.305 12.622-14.53 20.772-17.23 19.783-6.514 40.245-13.139 60.845-14.764 57.597-4.547 115.326-7.615 173.092-10.127a3823.245 3823.245 0 0 0 19.656-42.536c-20.162-2.578-40.467-4.392-60.646-6.829-43.702-2.6-82.692 0.533-129.293 11.19-16.572 4.013-33.311 7.548-49.733 12.147-43.613 12.28-76.674 34.426-85.136 83.106-5.063 28.954-13.995 57.315-22.15 85.653-1.575 5.478-7.776 13.982-11.561 13.838-31.32-1.225-41.748 18.568-47.862 43.565-1.008 5.765 0.304 10.85 1.328 15.014 12.168 2.091 24.341 4.184 32.89 5.624 3.34 44.421 6.57 88.544 10.027 132.65 1.858 23.757 3.014 47.655 6.752 71.136 1.76 10.851 7.354 27.503 13.755 31.203 4.957 5.466 84.51-1.625 98.857-8.556 6.574-3.181 6.874-38.11 10.696-59.227l108-9.347c4.337-56.702 9.706-113.326 15.197-169.926 1.405-15.007 6.106-29.736 9.272-44.364l-0.081-0.029zM190.408 725.766c-1.79 6.495-10.653 13.256-17.91 15.604-9.986 3.235-21.227 4.588-31.947 5.515 0.004 0.178 0.011 0.353-0.006 0.001-15.814-0.273-31.76 0.661-47.376-1.161-20.299-2.387-27.214-16.602-23.534-43.478 2.53-18.381 16.704-20.4 29.852-17.347 26.4 6.109 52.454 14.113 77.935 23.227 6.12 2.172 14.242 13.024 12.986 17.639zM852.78 756.31l0.008 0.002c0.01-0.446 0-0.222-0.008-0.002z m-374.023-576.8l-74.95-30.593 16.45 156.913 58.5-126.32zM269.15 78.066l-83.351 70.334L382.28 304.035 269.15 78.067z m752.533 553.33c-7.467-30.53-20.203-54.7-58.448-53.203-4.624 0.18-12.196-10.206-14.121-16.896-9.96-34.606-20.866-69.235-27.049-104.596-10.335-59.445-50.705-86.49-103.963-101.484-20.055-5.614-40.496-9.933-60.73-14.827-56.91-13.017-104.524-16.848-157.884-13.668-36.71 4.427-73.762 7.168-110.066 13.834-26.881 4.933-47.402 20.893-59.153 46.981-18.65 41.204-37.997 82.095-58.128 122.593-3.414 6.772-13.408 16.31-18.454 15.312-34.191-6.84-52.12 10.74-65.158 37.913-3.302 8.382-2.65 17.125-2.028 22.912 14.04 5.189 28.085 10.344 40.996 15.09-3.167 14.63-7.866 29.36-9.273 44.37-6.64 68.46-13.128 136.952-17.793 205.578-0.849 12.243 4.614 31.886 9.32 35.4 3.998 8.416 108.851 17.105 117.497 12.254 28.779-15.134 14.624-45.933 25.461-68.993l356.119 30.82c4.665 25.79 5.031 68.444 13.062 72.326 17.518 8.466 114.664 17.12 120.72 10.447 7.81-4.518 14.647-24.85 16.795-38.1 4.566-28.678 5.977-57.859 8.248-86.872 4.218-53.86 8.164-107.74 12.24-161.982 10.44-1.761 25.304-4.32 40.164-6.875 1.257-5.085 2.856-11.294 1.626-18.335z m-542.76 87.968c-15.16 1.911-30.797 0.248-50.248 0.15-16.73-3.475-37.62-6.04-57.277-12.387-26.874-8.6-19.06-30.993-16.706-50.325 2.013-16.542 13.535-28.114 28.23-22.152 36.74 14.86 73.029 31.766 107.063 51.892 15.633 9.263 7.871 30.407-11.061 32.822zM418.2 542.26c17.163-40.014 33.957-75.439 47.474-111.986 11.637-31.387 34.07-45.389 65.509-44.06 76.631 3.213 153.218 7.124 229.62 13.156 25.158 1.981 50.141 10.072 74.304 18.03 9.952 3.295 22.659 12.117 25.362 21.036 14.226 46.58 25.682 94.033 39.22 145.494-166.64 19.343-323.592 6.554-481.489-41.67z m492.44 212.63c-19.067 2.228-38.541 1.086-57.853 1.42-0.02 0.43-0.015 0.216-0.008-0.002-13.091-1.132-26.816-2.782-39.015-6.73-8.86-2.871-19.684-11.125-21.87-19.056-1.535-5.636 8.382-18.886 15.859-21.542 31.114-11.13 62.932-20.903 95.17-28.363 16.058-3.726 33.367-1.263 36.455 21.183 4.495 32.821-3.947 50.178-28.737 53.09z" p-id="16067" fill="#1E90FF"></path></svg>
        </template>
        <template #icon v-if="category.name === '公共卫生'">
          <svg t="1722281455669" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14885" width="22" height="22"><path d="M261.7 308.6h124.4c5.7 0 11.3-5.8 11.3-11.5V173c0-5.8-5.7-11.5-11.3-11.5H261.7c-8.5 0-11.3 5.8-11.3 11.5v121.2c0 8.6 2.8 14.4 11.3 14.4z m376.1 0h124.4c5.7 0 11.3-5.8 11.3-11.5V173c0-5.8-5.7-11.5-11.3-11.5H637.8c-5.7 0-11.3 5.8-11.3 11.5v121.2c0 8.6 5.7 14.4 11.3 14.4z m-175.3 28.8h96.1c5.7 0 11.3-5.8 11.3-11.5v-95.2c0-5.8-5.7-11.5-11.3-11.5h-96.1c-5.7 0-11.3 5.8-11.3 11.5v95.2c0 5.8 5.7 11.5 11.3 11.5zM355.1 620.2c14.1 14.4 31.1 28.9 45.2 43.3 2.8 2.9 5.7 5.8 8.5 5.8 0 0 2.8 0 5.7-2.9l33.9-34.6c5.7-5.8 0-5.8-5.7-5.8h-28.3c-8.5 0-11.3-2.9-11.3-11.5v-60.6c0-8.7 2.8-11.5 11.3-11.5h31.1c2.8 0 5.7 0 5.7-2.9 2.8-2.9 0-2.9-2.8-5.8L417.3 502c-5.7-5.8-11.3-5.8-17 0-14.1 14.4-31.1 28.9-45.2 43.3-5.7 5.8-5.7 11.5 0 20.2 14.1 14.4 14.1 17.3 0 34.6-5.7 8.6-5.7 14.3 0 20.1z m311-69.2c-14.1-14.4-31.1-28.9-45.2-43.3-2.8-2.9-5.7-5.8-8.5-5.8 0 0-2.8 0-5.7 2.9l-33.9 34.6c-5.7 5.8 0 5.8 2.8 5.8h31.1c8.5 0 11.3 2.9 11.3 11.5v63.5c0 8.7-2.8 11.5-11.3 11.5h-31.1c-2.8 0-5.7 0-8.5 2.9s2.8 5.8 2.8 5.8l28.3 28.9c5.7 5.8 14.1 5.8 19.8 0l42.4-43.3c5.7-5.8 5.7-14.4 0-20.2-11.3-14.4-11.3-17.3 0-31.7 11.4-11.6 11.4-17.4 5.7-23.1zM473.8 738.5c8.5 8.7 14.1 5.8 19.8 0 11.3-11.5 19.8-11.5 31.1 0 8.5 5.8 14.1 8.7 19.8 0l42.4-43.3c2.8-2.9 5.7-5.8 5.7-11.5 0 0 0-2.9-2.8-5.8l-33.9-34.6c-5.7-5.8-5.7 0-5.7 2.9V675c0 8.7-2.8 11.5-11.3 11.5h-65c-5.7 0-11.3-2.9-11.3-8.7V649c0-2.9 0-5.8-2.8-5.8s-2.8 2.9-5.7 2.9L425.7 675c-5.7 5.8-5.7 14.4 0 20.2 19.8 14.4 34 28.9 48.1 43.3z m73.6-305.8c-5.7-5.8-11.3-5.8-17 0-14.1 14.4-19.8 14.4-33.9 0-5.7-5.8-11.3-5.8-17 0-14.1 14.4-31.1 28.8-45.2 46.2-5.7 5.8-5.7 11.5 0 17.3l28.3 28.9c2.8 2.9 2.8 5.8 5.7 2.9 2.8 0 2.8-5.8 2.8-5.8v-26c0-11.5 2.8-14.4 14.1-11.5h56.6c17 0 17 0 17 17.3v26c0 5.8 2.8 5.8 5.7 2.9 11.3-11.5 22.6-20.2 31.1-31.7 5.7-5.8 5.7-11.5 0-14.4-20-23.3-34.1-37.7-48.2-52.1z m246-95.3H620.9l-76.4 75 67.9 66.4 93.3-92.3 118.8 118.3h-53.7v265.4H592.6v-49l-48.1 49h-70.7l-48.1-49v49H250.4V504.8h-53.7l118.8-118.3 93.3 92.3 67.9-66.4-76.4-75H230.6L63.8 504.8h76.4v334.7c0 11.5 11.3 23.1 22.6 23.1h695.7c11.3 0 22.6-8.7 22.6-23.1V504.8h79.2L793.4 337.4z m0 0" fill="#1E90FF" p-id="14886"></path></svg>
        </template>
        <template #icon v-if="category.name === '社会安全'">
          <svg t="1722281601688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18423" width="20" height="20"><path d="M900.704 166.912a62.96 62.96 0 0 0-42.384-16.208c-1.408 0-2.896 0-4.32 0.096-0.832 0.08-10.88 0.64-26.432 0.64-25.872 0-76.416-1.76-124.32-13.12-61.792-14.72-133.136-82.784-153.856-96.192a64.224 64.224 0 0 0-69.104-0.096c-2.528 1.68-77.168 78.944-150.304 96.288-47.808 11.36-99.28 13.12-125.168 13.12-15.648 0-25.6-0.56-26.528-0.64-1.312-0.096-2.72-0.096-4.128-0.096-15.744 0-30.944 5.712-42.464 16.208A59.2 59.2 0 0 0 112 210.8v150.288c0 555.616 375.888 627.168 391.824 630.08a72.048 72.048 0 0 0 21.92 0c15.952-2.912 394.656-74.464 394.656-630.08v-150.288a58.72 58.72 0 0 0-19.696-43.888zM761.744 381.92L501.12 634.032c-1.6 2.624-3.664 5.344-6 7.584a38.752 38.752 0 0 1-27.76 10.784 38.752 38.752 0 0 1-27.744-10.784 38.704 38.704 0 0 1-6.096-7.584L294.176 499.2a35.904 35.904 0 0 1 0-51.936 38.912 38.912 0 0 1 53.728 0l119.36 115.6 240.768-232.896a38.912 38.912 0 0 1 53.712 0c14.816 14.336 14.816 37.6 0 51.936z" p-id="18424" fill="#1E90FF"></path></svg>
        </template>
        <div>{{ category.name }}</div>
      </a-button>
    </div>
    <div v-if="selectedCategory" class="description">
      {{ selectedCategory.description }}
      <img style="width: 400px;" :src="wordCloudImage" alt="Word Cloud" />
    </div>
  </div>
</template>

<script>
import cloud from "@/components/static/picture/wcloud.png"
import cloud1 from "@/components/static/picture/cloud1.png"
import cloud2 from "@/components/static/picture/cloud2.png"
import cloud3 from "@/components/static/picture/cloud3.png"
import cloud4 from "@/components/static/picture/cloud4.png"
export default {
  data() {
    return {
      categories: [
        { name: '自然灾害', description: '主要包括水旱灾害、气象灾害、地震灾害、地质灾害、海洋灾害、生物灾害和森林草原火灾等。', image: 'cloud1', icon: 'house-crack' },
        { name: '事故灾难', description: '主要包括工矿商贸等企业的各类安全事故、交通运输事故、公共设施和设备事故、环境污染和生态破坏事件等。', image: 'cloud2', icon: 'car-crash' },
        { name: '公共卫生', description: '主要包括传染病疫情、群体性不明原因疾病、食品安全和职业危害、动物疫情，以及其他严重影响公众健康和生命安全的事件。', image: 'cloud3', icon: 'hospital' },
        { name: '社会安全', description: '主要包括恐怖袭击事件、经济安全事件和涉外突发事件等。', image: 'cloud4', icon: 'shield-alt' },
      ],
      selectedCategory: null,
      wordCloudImage: cloud,
    };
  },
  methods: {
    async selectCategory(category) {
      this.selectedCategory = category;

      // 使用import()动态导入图片资源
      const imageModule = await import(`@/components/static/picture/${category.image}.png`);

      // 将图片URL赋值给wordCloudImage
      this.wordCloudImage = imageModule.default;

      this.$emit('category-selected', category.description);
      this.$emit('type-selected', category.name);
    },
    filterType(category) {
      this.selectedCategory = category;
      this.$emit('type-selected', category.name);  // 将 category.name 作为事件的参数
    },
  },
};
</script>

<style scoped>
/* .category-selector {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
} */

.category-selector .categories {
  display: flex;
  gap: 1rem;
}

/* .category-selector button {
  padding: 0.5rem 1rem;
  font-size: 1rem;
  border: none;
  border-radius: 0.25rem;
  background: white;
  cursor: pointer;
  transition: all 0.3s ease;
  outline: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
}

.category-selector button:hover,
.category-selector button.selected {
  transform: scale(1.1);
  background:  #3464e0;
  color: white;
  /*border: 2px solid blue;*/
/* } */

.description {
  transition: opacity 0.3s ease;
  background: #DCDCDC;
  color: white; /* 改变文字颜色 */
  padding: 0.5rem; /* 添加内边距 */
  border-radius: 0.25rem; /* 添加圆角 */
  margin-top: 1rem;
}

/* .fade-enter-active,
.fade-leave-active {
  transition: opacity 0.5s;
}

.fade-enter,
.fade-leave-to {
  opacity: 0;
} */
</style>
